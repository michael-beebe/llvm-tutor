; ModuleID = '/Users/michaelbeebe/Documents/llvm/llvm-tutor/test/Inputs/FCmpEqInput.ll'
source_filename = "/Users/michaelbeebe/Documents/llvm/llvm-tutor/test/Inputs/FCmpEqInput.ll"

@value.test = private constant double 2.000000e-01, align 8

define double @sqrt_impl(double %x, double %hi, double %lo) {
entry:
  br label %newton_raphson

newton_raphson:                                   ; preds = %approximate, %entry
  %0 = phi double [ %hi, %entry ], [ %10, %approximate ]
  %1 = phi double [ %lo, %entry ], [ %2, %approximate ]
  br label %compare_limits

compare_limits:                                   ; preds = %converge, %newton_raphson
  %2 = phi double [ %13, %converge ], [ %1, %newton_raphson ]
  %3 = fsub double %0, %2
  %4 = bitcast double %3 to i64
  %5 = and i64 %4, 9223372036854775807
  %6 = bitcast i64 %5 to double
  %7 = fcmp olt double %6, 0x3CB0000000000000
  br i1 %7, label %root_found, label %approximate

approximate:                                      ; preds = %compare_limits
  %8 = fadd double %0, %2
  %9 = fadd double %8, 1.000000e+00
  %10 = fmul double %9, 5.000000e-01
  %11 = fdiv double %x, %10
  %12 = fcmp olt double %11, %10
  br i1 %12, label %converge, label %newton_raphson

converge:                                         ; preds = %approximate
  %13 = fadd double %10, -1.000000e+00
  br label %compare_limits

root_found:                                       ; preds = %compare_limits
  ret double %0
}

define double @sqrt(double %x) {
entry:
  %half = fmul double %x, 5.000000e-01
  %hi = fadd double %half, 1.000000e+00
  %root = tail call double @sqrt_impl(double %x, double 0.000000e+00, double %hi)
  ret double %root
}

define i32 @main() {
entry:
  %a = load double, double* @value.test, align 8
  %0 = tail call double @sqrt(double 5.000000e+00)
  %1 = fdiv double 1.000000e+00, %0
  %2 = tail call double @sqrt(double 5.000000e+00)
  %b = fdiv double %1, %2
  %3 = fsub double %a, %b
  %4 = bitcast double %3 to i64
  %5 = and i64 %4, 9223372036854775807
  %6 = bitcast i64 %5 to double
  %cmp = fcmp olt double %6, 0x3CB0000000000000
  %result = zext i1 %cmp to i32
  ret i32 %result
}
